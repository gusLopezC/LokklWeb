(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{UGvr:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var i=r("ofXK"),n=r("fXoL");let a=(()=>{class t{}return t.\u0275mod=n.Rb({type:t}),t.\u0275inj=n.Qb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})()},cjUu:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var i=r("fXoL");let n=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Nb({type:t,selectors:[["app-spineer"]],decls:9,vars:0,consts:[[1,"margin_60_35"],[1,"center"],[1,"spinner-square"],[1,"square-1","square"],[1,"square-2","square"],[1,"square-3","square"],[1,"margin_80_55"]],template:function(t,e){1&t&&(i.Ub(0,"div",0),i.Ub(1,"div",0),i.Zb(2,"div",1),i.Zb(3,"div",2),i.Ub(4,"div",3),i.Ub(5,"div",4),i.Ub(6,"div",5),i.Yb(),i.Yb(),i.Ub(7,"div",6),i.Ub(8,"div",0))},styles:[".center[_ngcontent-%COMP%]{width:100%;height:50vh;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.center[_ngcontent-%COMP%], .spinner-square[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.spinner-square[_ngcontent-%COMP%]{margin-top:100px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;width:90px;height:120px}.spinner-square[_ngcontent-%COMP%] > .square[_ngcontent-%COMP%]{width:17px;height:80px;margin:auto;border-radius:4px}.square-1[_ngcontent-%COMP%]{-webkit-animation:square-anim 1.2s cubic-bezier(.445,.05,.55,.95) 0s infinite;animation:square-anim 1.2s cubic-bezier(.445,.05,.55,.95) 0s infinite}.square-2[_ngcontent-%COMP%]{-webkit-animation:square-anim 1.2s cubic-bezier(.445,.05,.55,.95) .2s infinite;animation:square-anim 1.2s cubic-bezier(.445,.05,.55,.95) .2s infinite}.square-3[_ngcontent-%COMP%]{-webkit-animation:square-anim 1.2s cubic-bezier(.445,.05,.55,.95) .4s infinite;animation:square-anim 1.2s cubic-bezier(.445,.05,.55,.95) .4s infinite}@-webkit-keyframes square-anim{0%{height:80px;background-color:#6fa3f0}20%{height:80px}40%{height:120px;background-color:#6fc8f0}80%{height:80px}to{height:80px;background-color:#6fa3f0}}@keyframes square-anim{0%{height:80px;background-color:#6fa3f0}20%{height:80px}40%{height:120px;background-color:#6fc8f0}80%{height:80px}to{height:80px;background-color:#6fa3f0}}"]}),t})()},t260:function(t,e,r){"use strict";r.r(e);var i=r("sYmb"),n=r("ofXK"),a=r("fXoL"),o=r("XNiG");const c=["payPalButtonContainer"];let s=(()=>{class t{constructor(t){this.zone=t}registerScript(t,e,r){const i=window[e];if(i)return void this.zone.run(()=>{r(i)});const n=document.createElement("script");n.id=this.getElemId(e),n.innerHTML="",n.onload=()=>{this.zone.run(()=>{r(window[e])})},n.src=t,n.async=!0,n.defer=!0,document.getElementsByTagName("head")[0].appendChild(n)}cleanup(t){const e=document.getElementById(this.getElemId(t));e&&e.remove()}getElemId(t){return`ngx-paypal-script-elem-${t}`}}return t.\u0275fac=function(e){return new(e||t)(a.hc(a.z))},t.\u0275prov=a.Pb({token:t,factory:t.\u0275fac}),t})(),b=(()=>{class t{constructor(t){this.scriptService=t,this.paypalWindowName="paypal"}registerPayPalScript(t,e){this.scriptService.registerScript(this.getUrlForConfig(t),this.paypalWindowName,e)}destroyPayPalScript(){this.scriptService.cleanup(this.paypalWindowName)}getUrlForConfig(t){const e=[{name:"client-id",value:t.clientId}];return t.currency&&e.push({name:"currency",value:t.currency}),t.commit&&e.push({name:"commit",value:t.commit}),t.extraParams&&e.push(...t.extraParams),`https://www.paypal.com/sdk/js${this.getQueryString(e)}`}getQueryString(t){let e="";for(let r=0;r<t.length;r++){const i=t[r];e+=0===r?"?":"&",e+=`${i.name}=${i.value}`}return e}}return t.\u0275fac=function(e){return new(e||t)(a.hc(s))},t.\u0275prov=a.Pb({token:t,factory:t.\u0275fac}),t})(),d=(()=>{class t{constructor(t,e,r){this.paypalScriptService=t,this.cdr=e,this.ngZone=r,this.registerScript=!0,this.scriptLoaded=new a.n,this.ngUnsubscribe=new o.a,this.initializePayPal=!0}set payPalButtonContainer(t){this.payPalButtonContainerElem=t}ngOnChanges(t){this.payPalButtonContainerId||(this.payPalButtonContainerId=this.generateElementId());const e=this.config;t.config.isFirstChange()&&e&&this.registerScript&&this.initPayPalScript(e,t=>{this.payPal=t,this.doPayPalCheck()}),t.config.isFirstChange()||this.reinitialize(e)}ngOnDestroy(){this.paypalScriptService.destroyPayPalScript(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngAfterViewInit(){this.doPayPalCheck()}customInit(t){this.payPal=t,this.doPayPalCheck()}reinitialize(t){if(this.config=t,this.payPal=void 0,this.paypalScriptService.destroyPayPalScript(),this.payPalButtonContainerId=this.generateElementId(),this.initializePayPal=!0,this.payPalButtonContainerElem)for(;this.payPalButtonContainerElem.nativeElement.firstChild;)this.payPalButtonContainerElem.nativeElement.removeChild(this.payPalButtonContainerElem.nativeElement.firstChild);this.cdr.detectChanges(),this.config&&(this.payPal?this.doPayPalCheck():this.initPayPalScript(this.config,t=>{this.payPal=t,this.doPayPalCheck()}))}doPayPalCheck(){this.initializePayPal&&this.config&&this.payPal&&this.payPalButtonContainerElem&&this.payPalButtonContainerElem.nativeElement.id&&(this.initializePayPal=!1,this.initPayPal(this.config,this.payPal))}initPayPalScript(t,e){this.paypalScriptService.registerPayPalScript({clientId:t.clientId,commit:t.advanced&&t.advanced.commit?t.advanced.commit:void 0,currency:t.currency,extraParams:t.advanced&&t.advanced.extraQueryParams?t.advanced.extraQueryParams:[]},t=>{this.scriptLoaded.next(t),e(t)})}generateElementId(){return`ngx-captcha-id-${(new Date).valueOf()}`}initPayPal(t,e){this.ngZone.runOutsideAngular(()=>{e.Buttons({style:t.style,createOrder:(e,r)=>this.ngZone.run(()=>{if(t.createOrderOnClient&&t.createOrderOnServer)throw Error("Both 'createOrderOnClient' and 'createOrderOnServer' are defined.\n                        Please choose one or the other.");if(!t.createOrderOnClient&&!t.createOrderOnServer)throw Error("Neither 'createOrderOnClient' or 'createOrderOnServer' are defined.\n                        Please define one of these to create order.");if(t.createOrderOnClient)return r.order.create(t.createOrderOnClient(e));if(t.createOrderOnServer)return t.createOrderOnServer(e);throw Error("Invalid state for 'createOrder'.")}),onApprove:(e,r)=>this.ngZone.run(()=>{if(t.onApprove&&t.onApprove(e,r),t.authorizeOnServer)return t.authorizeOnServer(e,r);const i=t.onClientAuthorization;i&&r.order.capture().then(t=>{this.ngZone.run(()=>{i(t)})})}),onError:e=>{this.ngZone.run(()=>{t.onError&&t.onError(e)})},onCancel:(e,r)=>{this.ngZone.run(()=>{t.onCancel&&t.onCancel(e,r)})},onShippingChange:(e,r)=>this.ngZone.run(()=>{if(t.onShippingChange)return t.onShippingChange(e,r)}),onClick:(e,r)=>{this.ngZone.run(()=>{t.onClick&&t.onClick(e,r)})},onInit:(e,r)=>{this.ngZone.run(()=>{t.onInit&&t.onInit(e,r)})}}).render(`#${this.payPalButtonContainerId}`)})}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(b),a.Tb(a.h),a.Tb(a.z))},t.\u0275cmp=a.Nb({type:t,selectors:[["ngx-paypal"]],viewQuery:function(t,e){var r;1&t&&a.ed(c,!0),2&t&&a.Kc(r=a.mc())&&(e.payPalButtonContainer=r.first)},inputs:{registerScript:"registerScript",config:"config"},outputs:{scriptLoaded:"scriptLoaded"},features:[a.Bb()],decls:2,vars:1,consts:[[3,"id"],["payPalButtonContainer",""]],template:function(t,e){1&t&&a.Ub(0,"div",0,1),2&t&&a.yc("id",e.payPalButtonContainerId)},encapsulation:2,changeDetection:0}),t})(),l=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},providers:[s,b],imports:[[n.c]]}),t})();var u=r("3Pt+"),p=r("vWu4"),m=r("tyNb"),h=r("mrSG"),g=r("PSD3"),v=r.n(g),f=r("IN2z"),Z=r("cjUu");function y(t,e){1&t&&(a.Zb(0,"div"),a.Ub(1,"app-spineer"),a.Yb())}function Y(t,e){1&t&&(a.Zb(0,"div"),a.Zc(1),a.qc(2,"translate"),a.Yb()),2&t&&(a.Db(1),a.bd(" ",a.rc(2,1,"tour.Namerequired"),""))}function P(t,e){if(1&t&&(a.Zb(0,"div",73),a.Xc(1,Y,3,3,"div",0),a.Yb()),2&t){const t=a.pc(5);a.Db(1),a.yc("ngIf",t.customStripeForm.controls.name_card.errors.required)}}function C(t,e){1&t&&(a.Zb(0,"div"),a.Zc(1),a.qc(2,"translate"),a.Yb()),2&t&&(a.Db(1),a.bd(" ",a.rc(2,1,"tour.Cardrequired"),""))}function w(t,e){if(1&t&&(a.Zb(0,"div",73),a.Xc(1,C,3,3,"div",0),a.Yb()),2&t){const t=a.pc(5);a.Db(1),a.yc("ngIf",t.customStripeForm.controls.cardNumber.errors.required)}}function x(t,e){1&t&&(a.Zb(0,"div"),a.Zc(1),a.qc(2,"translate"),a.Yb()),2&t&&(a.Db(1),a.bd(" ",a.rc(2,1,"tour.Monthrequired"),""))}function q(t,e){if(1&t&&(a.Zb(0,"div",73),a.Xc(1,x,3,3,"div",0),a.Yb()),2&t){const t=a.pc(5);a.Db(1),a.yc("ngIf",t.customStripeForm.controls.expMonth.errors.required)}}function S(t,e){1&t&&(a.Zb(0,"div"),a.Zc(1),a.qc(2,"translate"),a.Yb()),2&t&&(a.Db(1),a.bd(" ",a.rc(2,1,"tour.Yearrequired"),""))}function D(t,e){if(1&t&&(a.Zb(0,"div",73),a.Xc(1,S,3,3,"div",0),a.Yb()),2&t){const t=a.pc(5);a.Db(1),a.yc("ngIf",t.customStripeForm.controls.expYear.errors.required)}}function _(t,e){1&t&&(a.Zb(0,"div"),a.Zc(1),a.qc(2,"translate"),a.Yb()),2&t&&(a.Db(1),a.bd(" ",a.rc(2,1,"tour.CCVrequired"),""))}function k(t,e){1&t&&(a.Zb(0,"div"),a.Zc(1),a.qc(2,"translate"),a.Yb()),2&t&&(a.Db(1),a.bd(" ",a.rc(2,1,"tour.CCVleast"),""))}function O(t,e){if(1&t&&(a.Zb(0,"div",73),a.Xc(1,_,3,3,"div",0),a.Xc(2,k,3,3,"div",0),a.Yb()),2&t){const t=a.pc(5);a.Db(1),a.yc("ngIf",t.customStripeForm.controls.ccv.errors.required),a.Db(1),a.yc("ngIf",t.customStripeForm.controls.ccv.errors.minlength)}}function U(t,e){if(1&t&&(a.Zb(0,"div",21),a.Zb(1,"div",58),a.Zb(2,"div",23),a.Zb(3,"label"),a.Zc(4),a.qc(5,"translate"),a.Yb(),a.Ub(6,"input",59),a.Xc(7,P,2,1,"div",60),a.Yb(),a.Zb(8,"div",17),a.Zb(9,"div",61),a.Zb(10,"div",23),a.Zb(11,"label"),a.Zc(12),a.qc(13,"translate"),a.Yb(),a.Ub(14,"input",62),a.Yb(),a.Yb(),a.Zb(15,"div",61),a.Ub(16,"img",63),a.Yb(),a.Zb(17,"div",61),a.Xc(18,w,2,1,"div",60),a.Yb(),a.Yb(),a.Zb(19,"div",17),a.Zb(20,"div",64),a.Zb(21,"label"),a.Zc(22),a.qc(23,"translate"),a.Yb(),a.Zb(24,"div",17),a.Zb(25,"div",64),a.Zb(26,"div",23),a.Ub(27,"input",65),a.Yb(),a.Yb(),a.Zb(28,"div",64),a.Zb(29,"div",23),a.Ub(30,"input",66),a.Yb(),a.Yb(),a.Yb(),a.Zb(31,"div",67),a.Xc(32,q,2,1,"div",60),a.Xc(33,D,2,1,"div",60),a.Yb(),a.Yb(),a.Zb(34,"div",64),a.Zb(35,"div",23),a.Zb(36,"label"),a.Zc(37),a.qc(38,"translate"),a.Yb(),a.Zb(39,"div",17),a.Zb(40,"div",68),a.Zb(41,"div",23),a.Ub(42,"input",69),a.Yb(),a.Yb(),a.Zb(43,"div",70),a.Ub(44,"img",71),a.Zb(45,"small"),a.Zc(46),a.qc(47,"translate"),a.Yb(),a.Yb(),a.Zb(48,"div",72),a.Xc(49,O,3,2,"div",60),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&t){const t=a.pc(4);a.Db(4),a.ad(a.rc(5,10,"tour.Nameoncard")),a.Db(3),a.yc("ngIf",t.submitted&&t.customStripeForm.controls.name_card.errors),a.Db(5),a.ad(a.rc(13,12,"tour.Cardnumber")),a.Db(6),a.yc("ngIf",t.submitted&&t.customStripeForm.controls.cardNumber.errors),a.Db(4),a.ad(a.rc(23,14,"tour.Expirationdate")),a.Db(10),a.yc("ngIf",t.submitted&&t.customStripeForm.controls.expMonth.errors),a.Db(1),a.yc("ngIf",t.submitted&&t.customStripeForm.controls.expYear.errors),a.Db(4),a.ad(a.rc(38,16,"tour.Securitycode")),a.Db(9),a.ad(a.rc(47,18,"tour.Lastdigits")),a.Db(3),a.yc("ngIf",t.submitted&&t.customStripeForm.controls.ccv.errors)}}function I(t,e){1&t&&(a.Ub(0,"input",76),a.qc(1,"translate")),2&t&&a.zc("value",a.rc(1,1,"tour.Reservar"))}function z(t,e){1&t&&(a.Zb(0,"span",77),a.Zc(1,"Processing please wait..."),a.Yb())}function M(t,e){if(1&t&&(a.Zb(0,"div"),a.Xc(1,I,2,3,"input",74),a.Xc(2,z,2,0,"span",75),a.Yb()),2&t){const t=a.pc(4);a.Db(1),a.yc("ngIf",!t.formProcess),a.Db(1),a.yc("ngIf",t.formProcess)}}function N(t,e){if(1&t&&(a.Zb(0,"div"),a.Ub(1,"ngx-paypal",78),a.Yb()),2&t){const t=a.pc(4);a.Db(1),a.yc("config",t.payPalConfig)}}const A=function(){return["/support/termsAndConditions"]};function T(t,e){if(1&t){const t=a.ac();a.Zb(0,"div",15),a.Zb(1,"form",16),a.lc("ngSubmit",(function(e){a.Oc(t);const r=a.pc(3);return r.pay(r.customStripeForm.value)})),a.Zb(2,"div",17),a.Zb(3,"div",18),a.Zb(4,"div",19),a.Zb(5,"div",20),a.Zb(6,"h3"),a.Zb(7,"strong"),a.Zc(8,"1"),a.Yb(),a.Zc(9),a.qc(10,"translate"),a.Yb(),a.Yb(),a.Zb(11,"div",21),a.Zb(12,"div",17),a.Zb(13,"div",22),a.Zb(14,"div",23),a.Zb(15,"label"),a.Zc(16),a.qc(17,"translate"),a.Yb(),a.Ub(18,"input",24),a.Yb(),a.Yb(),a.Zb(19,"div",22),a.Zb(20,"div",23),a.Zb(21,"label"),a.Zc(22),a.qc(23,"translate"),a.Yb(),a.Ub(24,"input",25),a.Yb(),a.Yb(),a.Yb(),a.Zb(25,"div",17),a.Zb(26,"div",22),a.Zb(27,"div",23),a.Zb(28,"label"),a.Zc(29),a.qc(30,"translate"),a.Yb(),a.Ub(31,"input",26),a.Yb(),a.Yb(),a.Zb(32,"div",22),a.Zb(33,"div",23),a.Zb(34,"label"),a.Zc(35),a.qc(36,"translate"),a.Yb(),a.Ub(37,"br"),a.Ub(38,"br"),a.Ub(39,"input",27),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Ub(40,"hr"),a.Zb(41,"div",20),a.Zb(42,"h3"),a.Zb(43,"strong"),a.Zc(44,"2"),a.Yb(),a.Zc(45),a.qc(46,"translate"),a.Yb(),a.Yb(),a.Zb(47,"div",28),a.Zb(48,"label",29),a.Zb(49,"div",30),a.Ub(50,"img",31),a.Ub(51,"img",32),a.Yb(),a.Zb(52,"div",33),a.Zb(53,"input",34),a.lc("click",(function(e){return a.Oc(t),a.pc(3).mostrarMetodoPago("Card")})),a.Yb(),a.Zc(54),a.qc(55,"translate"),a.Yb(),a.Yb(),a.Zb(56,"label",35),a.Ub(57,"img",36),a.Zb(58,"div",33),a.Zb(59,"input",37),a.lc("click",(function(e){return a.Oc(t),a.pc(3).mostrarMetodoPago("Paypal")})),a.Yb(),a.Zc(60),a.qc(61,"translate"),a.Yb(),a.Yb(),a.Yb(),a.Xc(62,U,50,20,"div",38),a.Yb(),a.Yb(),a.Zb(63,"div",39),a.Zb(64,"div",40),a.Zb(65,"div",41),a.Zb(66,"div",42),a.Zc(67),a.qc(68,"translate"),a.Zb(69,"span",43),a.Zc(70),a.Yb(),a.Yb(),a.Zb(71,"ul",44),a.Zb(72,"li"),a.Zc(73),a.qc(74,"translate"),a.Zb(75,"span"),a.Zc(76),a.Yb(),a.Yb(),a.Zb(77,"li"),a.Zc(78),a.qc(79,"translate"),a.Zb(80,"span"),a.Zc(81),a.Yb(),a.Yb(),a.Yb(),a.Zb(82,"ul",44),a.Zb(83,"li"),a.Zc(84),a.qc(85,"translate"),a.Zb(86,"span"),a.Zc(87),a.Yb(),a.Yb(),a.Zb(88,"li"),a.Zc(89),a.qc(90,"translate"),a.Zb(91,"span"),a.Zc(92),a.Yb(),a.Yb(),a.Yb(),a.Xc(93,M,3,2,"div",0),a.Xc(94,N,2,1,"div",0),a.Yb(),a.Yb(),a.Ub(95,"br"),a.Zb(96,"div",45),a.Zb(97,"div",46),a.Zc(98),a.qc(99,"translate"),a.Yb(),a.Ub(100,"hr",47),a.Zb(101,"div"),a.Zb(102,"div",47),a.Zb(103,"div",48),a.Zc(104),a.qc(105,"translate"),a.Yb(),a.Zb(106,"div"),a.Zc(107),a.qc(108,"translate"),a.Yb(),a.Yb(),a.Zb(109,"div",49),a.Zb(110,"div",48),a.Zc(111),a.qc(112,"translate"),a.Yb(),a.Zb(113,"div"),a.oc(),a.Zb(114,"svg",50),a.Ub(115,"path",51),a.Ub(116,"rect",52),a.Yb(),a.nc(),a.Zb(117,"span",53),a.Zc(118),a.qc(119,"translate"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(120,"div",17),a.Zb(121,"div",54),a.Ub(122,"hr"),a.Zb(123,"div",55),a.Zb(124,"h5"),a.Zc(125),a.qc(126,"translate"),a.Yb(),a.Zb(127,"div",21),a.Zb(128,"ul"),a.Zb(129,"li"),a.Zc(130),a.qc(131,"translate"),a.Yb(),a.Zb(132,"li"),a.Zc(133),a.qc(134,"translate"),a.Yb(),a.Zb(135,"li"),a.Zc(136),a.qc(137,"translate"),a.Yb(),a.Yb(),a.Yb(),a.Zb(138,"p",56),a.Zb(139,"a",57),a.Zc(140),a.qc(141,"translate"),a.Yb(),a.Yb(),a.Zb(142,"p"),a.Zc(143),a.qc(144,"translate"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()}if(2&t){const t=a.pc(3);a.Db(1),a.yc("formGroup",t.customStripeForm),a.Db(8),a.ad(a.rc(10,37,"tour.Ingresatusdatos")),a.Db(7),a.ad(a.rc(17,39,"tour.Nombre")),a.Db(6),a.ad(a.rc(23,41,"tour.Apellidos")),a.Db(7),a.ad(a.rc(30,43,"tour.Email")),a.Db(6),a.ad(a.rc(36,45,"tour.Tel\xe9fono")),a.Db(10),a.ad(a.rc(46,47,"tour.Formadepago")),a.Db(9),a.bd(" ",a.rc(55,49,"tour.Tarjetadecr\xe9dito")," "),a.Db(6),a.bd(" ",a.rc(61,51,"tour.PayPal")," "),a.Db(2),a.yc("ngIf",t.mostrarPagoCard),a.Db(5),a.bd(" ",a.rc(68,53,"tour.Total")," "),a.Db(3),a.cd("$ ",t.totalPagar," ",t.tour.moneda,""),a.Db(3),a.ad(a.rc(74,55,"tour.PrecioNormal")),a.Db(3),a.cd(" $ ",t.precioNormal," ",t.tour.moneda,""),a.Db(2),a.bd("",a.rc(79,57,"tour.Comision")," "),a.Db(3),a.cd("$ ",.2*t.precioNormal," ",t.tour.moneda,""),a.Db(3),a.ad(a.rc(85,59,"tour.Fechareserva")),a.Db(3),a.ad(t.fechaReserva),a.Db(2),a.ad(a.rc(90,61,"tour.Cantidad")),a.Db(3),a.bd(" ",t.cantidadTuristas,""),a.Db(1),a.yc("ngIf",t.mostrarPagoCard),a.Db(1),a.yc("ngIf",t.mostrarPagoPaypal),a.Db(4),a.bd(" ",a.rc(99,63,"tour.Reserveconconfianza"),""),a.Db(6),a.bd("",a.rc(105,65,"tour.Asistenciaglobal")," "),a.Db(3),a.ad(a.rc(108,67,"tour.Obtengarespuestas")),a.Db(4),a.bd(" ",a.rc(112,69,"tour.Reservedeformasegura"),""),a.Db(7),a.bd("",a.rc(119,71,"tour.Compraprotegida")," "),a.Db(7),a.ad(a.rc(126,73,"tour.Cancellationpolicy")),a.Db(5),a.ad(a.rc(131,75,"tour.PagoMensaje1")),a.Db(3),a.ad(a.rc(134,77,"tour.PagoMensaje2")),a.Db(3),a.ad(a.rc(137,79,"tour.PagoMensaje3")),a.Db(3),a.yc("routerLink",a.Bc(85,A)),a.Db(1),a.ad(a.rc(141,81,"tour.Pol\xedticadecancelaci\xf3n")),a.Db(3),a.ad(a.rc(144,83,"tour.CancellationpolicySub"))}}function E(t,e){if(1&t&&(a.Zb(0,"div"),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"div",4),a.Zb(5,"div",5),a.Zb(6,"div",6),a.Zc(7),a.qc(8,"translate"),a.Yb(),a.Zb(9,"div",7),a.Ub(10,"div",8),a.Yb(),a.Ub(11,"a",9),a.Yb(),a.Zb(12,"div",10),a.Zb(13,"div",6),a.Zc(14),a.qc(15,"translate"),a.Yb(),a.Zb(16,"div",7),a.Ub(17,"div",8),a.Yb(),a.Ub(18,"a",11),a.Yb(),a.Zb(19,"div",12),a.Zb(20,"div",6),a.Zc(21),a.qc(22,"translate"),a.Yb(),a.Zb(23,"div",7),a.Ub(24,"div",8),a.Yb(),a.Ub(25,"a",11),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(26,"div",13),a.Xc(27,T,145,86,"div",14),a.Yb(),a.Yb()),2&t){const t=a.pc(2);a.Db(7),a.ad(a.rc(8,4,"tour.Search")),a.Db(7),a.ad(a.rc(15,6,"tour.Payment")),a.Db(7),a.ad(a.rc(22,8,"tour.Finish")),a.Db(6),a.yc("ngIf",!t.cargando)}}function B(t,e){if(1&t&&(a.Zb(0,"div"),a.Xc(1,E,28,10,"div",0),a.Yb()),2&t){const t=a.pc();a.Db(1),a.yc("ngIf",!t.complete)}}function F(t,e){1&t&&(a.Zb(0,"div"),a.Zb(1,"main"),a.Zb(2,"div",79),a.Zb(3,"div",2),a.Zb(4,"div",3),a.Zb(5,"div",4),a.Zb(6,"div",5),a.Zb(7,"div",6),a.Zc(8),a.qc(9,"translate"),a.Yb(),a.Zb(10,"div",7),a.Ub(11,"div",8),a.Yb(),a.Ub(12,"a",11),a.Yb(),a.Zb(13,"div",5),a.Zb(14,"div",6),a.Zc(15),a.qc(16,"translate"),a.Yb(),a.Zb(17,"div",7),a.Ub(18,"div",8),a.Yb(),a.Ub(19,"a",11),a.Yb(),a.Zb(20,"div",10),a.Zb(21,"div",6),a.Zc(22),a.qc(23,"translate"),a.Yb(),a.Zb(24,"div",7),a.Ub(25,"div",8),a.Yb(),a.Ub(26,"a",11),a.Yb(),a.Yb(),a.Zb(27,"div",80),a.Zb(28,"h4"),a.Zc(29),a.qc(30,"translate"),a.Yb(),a.Zb(31,"p",81),a.Zc(32),a.qc(33,"translate"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&t&&(a.Db(8),a.ad(a.rc(9,5,"tour.Search")),a.Db(7),a.ad(a.rc(16,7,"tour.Payment")),a.Db(7),a.ad(a.rc(23,9,"tour.Finish")),a.Db(7),a.ad(a.rc(30,11,"tour.OrdenComplete")),a.Db(3),a.bd("",a.rc(33,13,"tour.TextoConfirmaci\xf3n")," "))}const X=m.h.forChild([{path:"tour/:slug",pathMatch:"full",component:(()=>{class t{constructor(t,e,r,i,n,a){this.rutaActiva=t,this._toursService=e,this._usuarioService=r,this._PaymentService=i,this.router=n,this.route=a,this.cargando=!0,this.mostrarPagoCard=!0,this.mostrarPagoPaypal=!1,this.botondefault=!0,this.tokenStripe="",this.complete=!1,this.route.queryParams.subscribe(t=>{this.router.getCurrentNavigation().extras.state&&(this.tour=this.router.getCurrentNavigation().extras.state.tour,this.fechaReserva=this.router.getCurrentNavigation().extras.state.fecha,this.cantidadTuristas=this.router.getCurrentNavigation().extras.state.cantidadTuristas)}),this.verificarSesion()}ngOnInit(){this.customStripeForm=new u.h({name:new u.f(null,u.A.required),lastname:new u.f(null,u.A.required),email:new u.f(null,u.A.required),telephone:new u.f(null,u.A.required),name_card:new u.f(null,u.A.required),cardNumber:new u.f(null,u.A.required),ccv:new u.f(null,u.A.required),expMonth:new u.f(null,u.A.required),expYear:new u.f(null,u.A.required)}),this.loadStripe(),this.slug={slug:this.rutaActiva.snapshot.params.slug},this.cargando=!0,this.complete=!1,this.cargarTour()}cargarTour(){return Object(h.__awaiter)(this,void 0,void 0,(function*(){yield this._toursService.obtenerTour(this.slug.slug).subscribe(t=>{this.tour=t.Tour,this.price=this.tour.price,this.precioNormal=(this.price*this.cantidadTuristas).toFixed(2),this.totalPagar=(this.tour.priceFinal*this.cantidadTuristas).toFixed(2),this.cantidadTuristas=this.cantidadTuristas,this.initConfig(),this.cargando=!1})}))}mostrarMetodoPago(t){"Card"===t&&(this.mostrarPagoCard=!0,this.mostrarPagoPaypal=!1),"Paypal"===t&&(this.mostrarPagoCard=!1,this.mostrarPagoPaypal=!0)}loadStripe(){if(!window.document.getElementById("stripe-custom-form-script")){var t=window.document.createElement("script");t.id="stripe-custom-form-script",t.type="text/javascript",t.src="https://js.stripe.com/v2/",t.onload=()=>{window.Stripe.setPublishableKey("pk_live_MFjCYjJg6B1jNNx5mUaSwFRY00q1xLT3gH")},window.document.body.appendChild(t)}}pay(t){window.Stripe?(this.submitted=!0,this.customStripeForm.invalid||(this.formProcess=!0,window.Stripe?(window.Stripe.card.createToken({number:t.cardNumber,exp_month:t.expMonth,exp_year:t.expYear,cvc:t.cvc},(t,e)=>{this.submitted=!1,this.formProcess=!1,200===t?this.tokenStripe=e.id:(console.log("A ocurrido un error"),console.log(e.error.message),this.message=e.error.message)}),setTimeout(()=>{this.creacionPago(t.name,t.lastname,t.email,t.telephone,t.cardNumber)},1500)):alert("Oops! Stripe did not initialize properly."))):alert("Oops! Stripe did not initialize properly.")}creacionPago(t,e,r,i,n){if(""===this.tokenStripe||null==this.tokenStripe)return v.a.fire({icon:"error",title:"A ocurrido un error por favor recarga la pagina",showConfirmButton:!1,timer:4500}),!1;const a=new f.a(this.usuario.id,t,e,r,i,n,this.totalPagar,this.tour.moneda,this.fechaReserva,this.cantidadTuristas,this.tokenStripe,this.tour.id,this.tour.name,this.tour.user_id);this._PaymentService.crearPagoStripe(a).subscribe(t=>{window.scroll(0,0),v.a.fire({icon:"success",title:"Pago realizado",showConfirmButton:!1,timer:4500}),this.router.navigate(["/users/myTraverls"])})}initConfig(){this.payPalConfig={currency:this.tour.moneda,clientId:"Afm-7MnAZh_K1VOBPwadYtmuSqTlUDdAlMMyrkJfFs8lIZz5RmVAGbfW7Qcaz4q3glDBfZMYUkgj6Lgf",createOrderOnClient:t=>({intent:"CAPTURE",purchase_units:[{amount:{currency_code:this.tour.moneda,value:this.totalPagar,breakdown:{item_total:{currency_code:this.tour.moneda,value:this.totalPagar}}},items:[{name:this.tour.name,quantity:"1",category:"DIGITAL_GOODS",unit_amount:{currency_code:this.tour.moneda,value:this.totalPagar}}]}]}),onApprove:(t,e)=>{console.log("onApprove: la transacci\xf3n se aprob\xf3, pero no se autoriz\xf3",t,e),e.order.get().then(t=>{console.log("onApprove: puede obtener todos los detalles del pedido en onApprove: ",t)})},onClientAuthorization:t=>{console.log("onClientAuthorization: probablemente deber\xeda informar a su servidor sobre la transacci\xf3n completada en este momento",t),this.sendDataPaymentPaypal(t.id,t.payer),this.showSuccess=!0},onCancel:(t,e)=>{console.log("OnCancel",t,e)},onError:t=>{console.log("OnError",t)},onClick:(t,e)=>{console.log("onClick",t,e)}}}sendDataPaymentPaypal(t,e){const r=new f.a(this.usuario.id,e.name.given_name,e.name.surname,e.email_address,"",t,this.totalPagar,this.tour.moneda,this.fechaReserva,this.cantidadTuristas,e.payer_id,this.tour.id,this.tour.name,this.tour.user_id);this._PaymentService.crearPagoPaypal(r).subscribe(t=>{window.scroll(0,0),v.a.fire({icon:"success",title:"Pago realizado",showConfirmButton:!1,timer:4500}),this.router.navigate(["/users/myTraverls"])})}verificarSesion(){this.usuario=this._usuarioService.user,localStorage.getItem("user")||(v.a.fire("Importante","Por favor inicia sesi\xf3n para continuar","warning"),setTimeout(()=>{this.router.navigate(["/login"])},4e3))}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(m.a),a.Tb(p.m),a.Tb(p.n),a.Tb(p.f),a.Tb(m.d),a.Tb(m.a))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-payment"]],decls:6,vars:3,consts:[[4,"ngIf"],[1,"hero_in","cart_section","start_bg_zoom"],[1,"wrapper"],[1,"container"],[1,"bs-wizard","clearfix"],[1,"bs-wizard-step"],[1,"text-center","bs-wizard-stepnum"],[1,"progress"],[1,"progress-bar"],["href","cart-1.html",1,"bs-wizard-dot"],[1,"bs-wizard-step","active"],[1,"bs-wizard-dot"],[1,"bs-wizard-step","disabled"],[1,"bg_color_1"],["class","container margin_60_35",4,"ngIf"],[1,"container","margin_60_35"],["ngNativeValidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-8"],[1,"box_cart"],[1,"form_title"],[1,"step"],[1,"col-sm-6"],[1,"form-group"],["type","text","formControlName","name","required","",1,"form-control"],["type","text","formControlName","lastname","required","",1,"form-control"],["type","email","formControlName","email","required","",1,"form-control"],["type","text","formControlName","telephone","required","",1,"form-control"],[1,"payment-method"],["for","card",1,"method","card"],[1,"card-logos"],["src","https://designmodo.com/demo/checkout-panel/img/visa_logo.png"],["src","https://designmodo.com/demo/checkout-panel/img/mastercard_logo.png"],[1,"radio-input"],["id","card","type","radio","checked","","name","payment",3,"click"],["for","paypal",1,"method","paypal"],["src","https://designmodo.com/demo/checkout-panel/img/paypal_logo.png"],["id","imagenpaypal","type","radio","name","payment","required","",3,"click"],["class","step",4,"ngIf"],["id","sidebar",1,"col-lg-4",2,"position","relative","overflow","visible","box-sizing","border-box","min-height","1px"],[1,"theiaStickySidebar",2,"padding-top","0px","padding-bottom","1px","position","static","transform","none"],[1,"box_detail"],["id","total_cart"],[1,"float-right"],[1,"cart_details"],[1,"d-none","d-lg-block"],[1,"h3","pt-5","mb-0","font-weight-medium"],[1,"my-3"],[1,"h6","mb-0","font-weight-bold"],[1,"mt-3"],["width","18","height","18","aria-hidden","true","role","img","viewBox","0 0 24 24",1,"mr-1","fill-gray-700"],["d","M18.5 9H17V7A5 5 0 007 7v2H5.5A1.5 1.5 0 004 10.5v10A1.5 1.5 0 005.5 22h13a1.5 1.5 0 001.5-1.5v-10A1.5 1.5 0 0018.5 9zm-10-2a3.5 3.5 0 017 0v2h-7zm10 13.5h-13v-10h13z"],["x","11","y","13","width","2","height","5","rx","1","ry","1"],[1,"align-middle"],[1,"col-sm","8"],["id","policy"],[1,"nomargin"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"panel","panel-default"],["type","text","formControlName","name_card",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"col-md-6","col-sm-12"],["type","text","formControlName","cardNumber","placeholder","Valid Card Number","name","cardNumber","maxlength","18",1,"form-control"],["src","assets/img/cards_all.svg","alt","Cards","required","",1,"cards-payment"],[1,"col-md-6"],["type","text","formControlName","expMonth","placeholder","MM","minlength","2","maxlength","2","max","12",1,"form-control"],["type","text","formControlName","expYear","placeholder","YYYY","minlength","4","maxlength","4","max","2030","min","2019",1,"form-control"],[1,"col-md-12"],[1,"col-4"],["type","text","formControlName","ccv","placeholder","CCV","minlength","3","maxlength","4",1,"form-control"],[1,"col-8"],["src","assets/img/icon_ccv.gif","width","50","height","29","alt","ccv"],[1,"col","sm-6"],[1,"text-danger"],["type","submit","class","btn_1 full-width purchase",3,"value",4,"ngIf"],["class","btn_1 full-width purchase",4,"ngIf"],["type","submit",1,"btn_1","full-width","purchase",3,"value"],[1,"btn_1","full-width","purchase"],[3,"config"],[1,"hero_in","cart_section","last","start_bg_zoom"],["id","confirm"],[2,"text-align","center","margin-top","36px"]],template:function(t,e){1&t&&(a.Xc(0,y,2,0,"div",0),a.Ub(1,"br"),a.Ub(2,"br"),a.Ub(3,"br"),a.Xc(4,B,2,1,"div",0),a.Xc(5,F,34,15,"div",0)),2&t&&(a.yc("ngIf",e.cargando),a.Db(4),a.yc("ngIf",!e.cargando),a.Db(1),a.yc("ngIf",e.complete))},directives:[n.o,Z.a,u.r,u.i,u.c,u.q,u.g,u.y,m.g,m.f,u.l,u.m,d],pipes:[i.c],styles:[".payment-method[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin:25px;-webkit-box-pack:justify;justify-content:space-between}.method[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;width:382px;height:122px;padding-top:20px;cursor:pointer;border:1px solid transparent;border-radius:2px;background-color:#f9f9f9;-webkit-box-pack:center;justify-content:center}.card-logos[_ngcontent-%COMP%], .method[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.card-logos[_ngcontent-%COMP%]{width:150px;-webkit-box-pack:justify;justify-content:space-between}.radio-input[_ngcontent-%COMP%]{margin-top:20px}input[type=radio][_ngcontent-%COMP%]{display:inline-block}.paypal-button[_ngcontent-%COMP%]   .paypal-button-card[_ngcontent-%COMP%], .paypal-powered-by[_ngcontent-%COMP%]{display:none!important}"]}),t})()}]);var j=r("UGvr");r.d(e,"PaymentModule",(function(){return L}));let L=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[n.c,u.k,u.x,p.a,j.a,i.b,l,X]]}),t})()}}]);